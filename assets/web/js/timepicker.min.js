 var bstptid="";!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.$=i(t.jQuery)}(this,function(t){"use strict";var i=function(t){return t>=10?t+"":"0"+t},e=/^[0-9]{1,2}:[0-9]{1,2}$/,s={},n=function(){},o=Array(24).fill(null).map(function(t,e){var s=i(e);return'<li class="cell-2 js-hour-cell" data-val="'+s+'">'+s+"</li>"}).join(""),c=Array(12).fill(null).map(function(t,e){var s=i(5*e);return'<li class="cell-2 js-minute-cell" data-val="'+s+'">'+s+"</li>"}).join(""),l=t('<div class="timepicker"><div v-show class="title">Select Time</div><div class="chose-all"><div class="handle"><div class="cell-4"><a class="icon-up js-plus-houer"></a></div><div class="cell-2"></div><div class="cell-4"><a class="icon-up js-plus-minute"></a></div></div><div class="text"><div class="cell-4"><a class="js-hour-show" title="\xe9€‰\xe6‹\xa9\xe6—\xb6"></a></div><div class="cell-2">:</div><div class="cell-4"><a class="js-minute-show" title="Select Time"></a></div></div><div class="handle"><div class="cell-4"><a class="icon-down js-minus-houer"></a></div><div class="cell-2"></div><div class="cell-4"><a class="icon-down js-minus-minute"></a></div></div></div><div class="chose-hour"><ul class="handle">'+o+'</ul></div><div class="chose-minute"><ul class="handle">'+c+'</ul></div></div></div>');return l.find("a").attr("href","javascript:void(0);"),s.content=l,s.title=l.find(".title"),s.choseAll=l.find(".chose-all"),s.choseMinute=l.find(".chose-minute"),s.choseHour=l.find(".chose-hour"),s.hourShow=l.find(".js-hour-show"),s.minuteShow=l.find(".js-minute-show"),s.update=function(flag){if( typeof flag!=="undefined" && flag==1){}else{  bstptid.val(i(this.hour)+":"+i(this.minute))} return this.minuteShow.text(i(this.minute)),this.hourShow.text(i(this.hour)),this.inputTarget.$timepickerUpdate(),this},s.bindEvent=function(){var t=this;t.hasBind||(t.hasBind=!0,this.content.on("click",".js-minus-minute",function(){t.minute<=0?t.minute=59:t.minute--,t.update()}).on("click",".js-plus-minute",function(){t.minute>=59?t.minute=0:t.minute++,t.update()}).on("click",".js-plus-houer",function(){t.hour>=23?t.hour=0:t.hour++,t.update()}).on("click",".js-minus-houer",function(){t.hour<=0?t.hour=23:t.hour--,t.update()}).on("click",".js-minute-cell",function(){t.minute=+this.getAttribute("data-val"),t.update(),t.choseMinute.hide(),t.choseAll.show(),t.title.text("Select Time")}).on("click",".js-hour-cell",function(){t.hour=+this.getAttribute("data-val"),t.update(),t.choseHour.hide(),t.choseAll.show(),t.title.text("Select Time")}).on("click",function(t){t.stopPropagation()}),t.hourShow.on("click",function(){t.choseAll.hide(),t.choseHour.show(),t.title.text("Select Time")}),t.minuteShow.on("click",function(){t.choseAll.hide(),t.choseMinute.show(),t.title.text("Select Time")}))},t.timepicker=s,t.fn.timepicker=function(i){var s,o,c=this,l=t.timepicker,u=t("html");if(this[0].nodeName&&"INPUT"===this[0].nodeName)return this.$timepickerUpdate=n,this.off("click").on("click",function(i){var n=this.value;if(bstptid=$(this),e.test(n)?(s=+(n=n.split(":"))[0],o=+n[1]):(s=(n=new Date).getHours(),o=n.getMinutes()),$(this).closest("table").length>0)var h=$(this).offset(),a=h.left+"px",d=h.top+this.offsetHeight+"px";else var a=this.offsetLeft+"px",d=this.offsetTop+this.offsetHeight+"px";l.inputTarget=c,l.content.appendTo(this.offsetParent).css({left:a,top:d}),l.hour=s,l.minute=o,l.choseAll.show(),l.choseHour.hide(),l.choseMinute.hide(),l.update(1),t.timepicker.bindEvent(),i.stopPropagation(),u.one("click",function(){l.content.off().remove(),l.hasBind=!1})}),this.off("keydown").on("keydown",function(){ /*return!1*/}),this.update=function(i){t.isFunction(i)?this.$timepickerUpdate=i:this.$timepickerUpdate=n},this},t});